import"./hoisted.B1xiXsH8.js";import"./index.CaVAtzAT.js";const p=e=>{if(window.matchMedia("(min-width: 1024px)").matches)return;const n=e.getElementById("menu-btn");n?.addEventListener("click",()=>{const t=n.getAttribute("aria-expanded")==="true";n.setAttribute("aria-expanded",t?"false":"true"),n.setAttribute("aria-label",t?"close menu":"open menu"),e.getElementById("menu")?.classList.toggle("hidden")})};p(document);document.addEventListener("astro:before-swap",e=>p(e.newDocument));const E=e=>{if(!window.matchMedia("(min-width: 1024px)").matches)return;const n=e.getElementById("back-to-top");n&&(n.addEventListener("click",()=>e.documentElement.scrollTo({top:0,behavior:"smooth"})),e.addEventListener("scroll",()=>{e.documentElement.scrollTop>=20?n.classList.replace("hidden","flex"):n.classList.replace("flex","hidden")}))};E(document);document.addEventListener("astro:before-swap",e=>E(e.newDocument));let o=[],w=(e,n)=>{let t=[],s={get(){return s.lc||s.listen(()=>{})(),s.value},l:0,lc:0,listen(i,l){return s.lc=t.push(i,l||s.l)/2,()=>{let d=t.indexOf(i);~d&&(t.splice(d,2),--s.lc||s.off())}},notify(i,l){let d=!o.length;for(let r=0;r<t.length;r+=2)o.push(t[r],t[r+1],s.value,i,l);if(d){for(let r=0;r<o.length;r+=5){let u;for(let a=r+1;!u&&(a+=5)<o.length;)o[a]<o[r+1]&&(u=o.push(o[r],o[r+1],o[r+2],o[r+3],o[r+4]));u||o[r](o[r+2],o[r+3],o[r+4])}o.length=0}},off(){},set(i){let l=s.value;l!==i&&(s.value=i,s.notify(l))},subscribe(i,l){let d=s.listen(i,l);return i(s.value),d},value:e};return s};const T=5,f=6,m=10;let x=(e,n,t,s)=>(e.events=e.events||{},e.events[t+m]||(e.events[t+m]=s(i=>{e.events[t].reduceRight((l,d)=>(d(l),l),{shared:{},...i})})),e.events[t]=e.events[t]||[],e.events[t].push(n),()=>{let i=e.events[t],l=i.indexOf(n);i.splice(l,1),i.length||(delete e.events[t],e.events[t+m](),delete e.events[t+m])}),A=1e3,b=(e,n)=>x(e,s=>{let i=n(s);i&&e.events[f].push(i)},T,s=>{let i=e.listen;e.listen=(...d)=>(!e.lc&&!e.active&&(e.active=!0,s()),i(...d));let l=e.off;return e.events[f]=[],e.off=()=>{l(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let d of e.events[f])d();e.events[f]=[]}},A)},()=>{e.listen=i,e.off=l}}),h=e=>e,c={},g={addEventListener(){},removeEventListener(){}};function y(){try{return typeof localStorage<"u"}catch{return!1}}y()&&(c=localStorage);let k={addEventListener(e,n,t){window.addEventListener("storage",n),window.addEventListener("pageshow",t)},removeEventListener(e,n,t){window.removeEventListener("storage",n),window.removeEventListener("pageshow",t)}};typeof window<"u"&&(g=k);function M(e,n=void 0,t={}){let s=t.encode||h,i=t.decode||h,l=w(n),d=l.set;l.set=a=>{typeof a>"u"?delete c[e]:c[e]=s(a),d(a)};function r(a){a.key===e?a.newValue===null?d(void 0):d(i(a.newValue)):c[e]||d(void 0)}function u(){l.set(c[e]?i(c[e]):n)}return b(l,()=>{if(u(),t.listen!==!1)return g.addEventListener(e,r,u),()=>{g.removeEventListener(e,r,u)}}),l}const v=M("theme","os-default");v.subscribe((e,n)=>{n&&document.documentElement.classList.remove(n),document.querySelector(`.theme-toggler[data-theme="${n}"]`)?.setAttribute("aria-pressed","false"),document.querySelector(`.theme-toggler[data-theme="${e}"]`)?.setAttribute("aria-pressed","true"),document.documentElement.classList.add(e)});const L=e=>{const n=v.get();e.documentElement.classList.add(n),e.querySelector(`.theme-toggler[data-theme="${n}"]`)?.setAttribute("aria-pressed","true"),e.querySelectorAll(".theme-toggler").forEach(s=>{s.addEventListener("click",()=>{const i=s.getAttribute("data-theme");v.set(i)})})};L(document);document.addEventListener("astro:before-swap",e=>L(e.newDocument));export{v as t};

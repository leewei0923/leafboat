<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>R语言学习 | 云边的鸟</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="记录学习新技术的博客笔记">
    
    <link rel="preload" href="/flybird/assets/css/0.styles.4e22a62d.css" as="style"><link rel="preload" href="/flybird/assets/js/app.5d93b14c.js" as="script"><link rel="preload" href="/flybird/assets/js/2.e60e2e84.js" as="script"><link rel="preload" href="/flybird/assets/js/24.7de905d7.js" as="script"><link rel="prefetch" href="/flybird/assets/js/10.b80f69a7.js"><link rel="prefetch" href="/flybird/assets/js/11.b6e41bea.js"><link rel="prefetch" href="/flybird/assets/js/12.e8bf9d10.js"><link rel="prefetch" href="/flybird/assets/js/13.14662bff.js"><link rel="prefetch" href="/flybird/assets/js/14.d0b2290a.js"><link rel="prefetch" href="/flybird/assets/js/15.69786163.js"><link rel="prefetch" href="/flybird/assets/js/16.3c34226c.js"><link rel="prefetch" href="/flybird/assets/js/17.538ad757.js"><link rel="prefetch" href="/flybird/assets/js/18.1b699eac.js"><link rel="prefetch" href="/flybird/assets/js/19.3a8cf5dd.js"><link rel="prefetch" href="/flybird/assets/js/20.2b104828.js"><link rel="prefetch" href="/flybird/assets/js/21.bc6fe016.js"><link rel="prefetch" href="/flybird/assets/js/22.6ec62204.js"><link rel="prefetch" href="/flybird/assets/js/23.0ad95885.js"><link rel="prefetch" href="/flybird/assets/js/25.aca6f776.js"><link rel="prefetch" href="/flybird/assets/js/26.83322717.js"><link rel="prefetch" href="/flybird/assets/js/3.28f8f17c.js"><link rel="prefetch" href="/flybird/assets/js/4.9d8efee8.js"><link rel="prefetch" href="/flybird/assets/js/5.cb600e9e.js"><link rel="prefetch" href="/flybird/assets/js/6.c8b7a84a.js"><link rel="prefetch" href="/flybird/assets/js/7.7b908ddf.js"><link rel="prefetch" href="/flybird/assets/js/8.def7f923.js"><link rel="prefetch" href="/flybird/assets/js/9.9e3e864b.js">
    <link rel="stylesheet" href="/flybird/assets/css/0.styles.4e22a62d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/flybird/" class="home-link router-link-active"><!----> <span class="site-name">云边的鸟</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/flybird/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/flybird/guide/" class="nav-link">
  码书
</a></div><div class="nav-item"><a href="/flybird/study/" class="nav-link router-link-active">
  现实艺术
</a></div><div class="nav-item"><a href="/flybird/poetry/" class="nav-link">
  诗雅颂
</a></div><div class="nav-item"><a href="https://www.7miaoyu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  七秒鱼
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/flybird/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/flybird/guide/" class="nav-link">
  码书
</a></div><div class="nav-item"><a href="/flybird/study/" class="nav-link router-link-active">
  现实艺术
</a></div><div class="nav-item"><a href="/flybird/poetry/" class="nav-link">
  诗雅颂
</a></div><div class="nav-item"><a href="https://www.7miaoyu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  七秒鱼
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>R语言</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/flybird/study/R/R-01.html" aria-current="page" class="active sidebar-link">R语言学习</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#第一节课" class="sidebar-link">第一节课</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#第二节课" class="sidebar-link">第二节课</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#第三节课" class="sidebar-link">第三节课</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#查看对象的类型" class="sidebar-link">查看对象的类型</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#查找向量" class="sidebar-link">查找向量</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#向量" class="sidebar-link">向量</a></li></ul></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#第四节课" class="sidebar-link">第四节课</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#向量索引" class="sidebar-link">向量索引</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#数据结构-矩阵" class="sidebar-link">数据结构-矩阵</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#转置" class="sidebar-link">转置</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#矩阵的索引" class="sidebar-link">矩阵的索引</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#产生多个" class="sidebar-link">产生多个</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#数据框" class="sidebar-link">数据框</a></li></ul></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#第五节课-2020-10-07" class="sidebar-link">第五节课  2020/10/07</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#查询数据框的索引" class="sidebar-link">查询数据框的索引</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#列表" class="sidebar-link">列表</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#列表的索引" class="sidebar-link">列表的索引</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#读取文件" class="sidebar-link">读取文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#第六节课" class="sidebar-link">第六节课</a></li><li class="sidebar-sub-header"><a href="/flybird/study/R/R-01.html#写入数据" class="sidebar-link">写入数据</a></li></ul></li><li><a href="/flybird/study/R/R-02.html" class="sidebar-link">R语言</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>税法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python数据分析与应用</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="r语言学习"><a href="#r语言学习" class="header-anchor">#</a> R语言学习</h1> <h2 id="第一节课"><a href="#第一节课" class="header-anchor">#</a> 第一节课</h2> <div class="language- extra-class"><pre class="language-text"><code>getwd()         这个代码获取当前的工作目录
setwd(&quot;d:/R_edu&quot;) 将当前的工作目录改为R_edu
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>print('这是财务人的第一个程序')
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>print(paste('固定资产的原值是','1000' ,'元'))

show： [1] &quot;这是财务人的第一个程序&quot;

paste连接的意思，将三个文字进行连接起来

show:  [1] &quot;固定资产的原值是 1000 元&quot;
</code></pre></div><h2 id="第二节课"><a href="#第二节课" class="header-anchor">#</a> 第二节课</h2> <p>例题：</p> <div class="language- extra-class"><pre class="language-text"><code>已知固定资产的原值是10000元，按5年进行折旧，无残值，每年折旧是多少？
amount &lt;- 10000
year &lt;- 5
deprectation &lt;- amount/year
print(paste('固定资产的原值是','1000','元'))

</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>引用一个包require()
libary(&quot;mice&quot;)
data()    内置数据集 列出已经载入的包
head(数据集名称)  查看前六行数据       
</code></pre></div><p>调用不是基础包中的数据
如：data(cars93,package = &quot;MASS&quot;)  MASS是R包名称，cars93是数据集的名称
head(iris,10)这个是查看iris这个数据集的前10 行，head()默认是前6行</p> <h2 id="第三节课"><a href="#第三节课" class="header-anchor">#</a> 第三节课</h2> <p>1、四种数据类型</p> <p>character -字符型，被引号包围</p> <p>complex -复数型</p> <p>logical  -逻辑型
NA是数据的缺失值，空值NULL</p> <div class="language- extra-class"><pre class="language-text"><code>is.na   检查是不是缺失值
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>f &lt;- TRUE
f
</code></pre></div><h3 id="查看对象的类型"><a href="#查看对象的类型" class="header-anchor">#</a> 查看对象的类型</h3> <p>typeof&gt;class&gt;mode
mode 函数只能查看数据的大类
class 函数查看数据的类
typeof  函数则更加细化</p> <p>is.chacter()  判断是不是字符型
as.charater() 转换成字符型</p> <h3 id="查找向量"><a href="#查找向量" class="header-anchor">#</a> 查找向量</h3> <div class="language- extra-class"><pre class="language-text"><code>x1 &lt;-c(1,2,NA,4,5)  设置向量1,2,NA,4,5
x1[1:3]             查找从第一个到第三个
x1[c(1,2,5)]
x1[-1]
</code></pre></div><h3 id="向量"><a href="#向量" class="header-anchor">#</a> 向量</h3> <p>一维数组
数值型
字符型，
逻辑型
创建一个一个向量c()，要用逗号隔开</p> <div class="language- extra-class"><pre class="language-text"><code>产生序列
n:m,  ---&gt; 产生n到m的整数序列
seq(from=n , to=m ,by=步长)  ---&gt;产生等差数列
rep(n,times = m )  ---&gt;产生重复值数列
</code></pre></div><p>上课的练习题：</p> <div class="language- extra-class"><pre class="language-text"><code>  a &lt;- c(1,2,3)
  b &lt;- c(&quot;one&quot;, &quot;two&quot;,&quot;three&quot;)
  c &lt;- c(TRUE,TRUE,FALSE,FALSE)


  class(a)
  class(b)
  class(c)
</code></pre></div><h2 id="第四节课"><a href="#第四节课" class="header-anchor">#</a> 第四节课</h2> <div class="language- extra-class"><pre class="language-text"><code>fruit &lt;- c(5,10,1,20)
names(fruit) &lt;- c(&quot;orange&quot;,&quot;banana&quot;,&quot;apple&quot;,&quot;peach&quot;)
fruit [&quot;orange&quot;]

fruit[c(1,3)]
</code></pre></div><p>字符索引:一般需要通过names函数进行指定,指定后, </p><p style="color:red;">原先的数值索引仍然保留</p><p></p> <h3 id="向量索引"><a href="#向量索引" class="header-anchor">#</a> 向量索引</h3> <p>给向量传入一个逻辑数值,它会返回一个向量切片,里面只有包含TRUE的元素</p> <p>一般在进行一些条件判断查询时使用</p> <p>例子:查询像x1中大于等于2的所有元素</p> <div class="language- extra-class"><pre class="language-text"><code>x1 &lt;- 1:5                              创建向量1,2,3,4,5
x1 &gt;=2
[1] FALSE  TRUE  TRUE  TRUE  TRUE      

x1[x1 &gt;= 2]
[1] 2 3 4 5
</code></pre></div><h3 id="数据结构-矩阵"><a href="#数据结构-矩阵" class="header-anchor">#</a> 数据结构-矩阵</h3> <p>二维数组,所有元素的数据类型一致</p> <p style="font-style:bold;">矩阵的创建:</p><p></p><div class="language- extra-class"><pre class="language-text"><code>matrix(data,nrow,ncol,byrow) 
以向量形式输入矩阵中的全部元素,使用nrow和ncol设置矩阵的行和列数
matrix1 &lt;- matrix(c(1:6),nrow=2 ,ncol=3)
matrix1

 [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6

matrix1 &lt;- matrix(c(1:6),nrow=2 ,ncol=3, byrow=TRUE)  如果要是以行来排列只要使用 byrow=TRUE就可以按照行来排列
matrix1


[,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6


</code></pre></div><h3 id="转置"><a href="#转置" class="header-anchor">#</a> 转置</h3> <div class="language- extra-class"><pre class="language-text"><code>matrix1 &lt;- matrix(1:4,nrow=2)
matrix1

[,1] [,2]
[1,]    1    3
[2,]    2    4

t(matrix1)

[,1] [,2]
[1,]    1    2
[2,]    3    4
&gt; 
</code></pre></div><h3 id="矩阵的索引"><a href="#矩阵的索引" class="header-anchor">#</a> 矩阵的索引</h3> <div class="language- extra-class"><pre class="language-text"><code>matrix1 &lt;- matrix(1:6,nrow=2)  x[i,j] 下标为(i,j)的元素
                                        x(i,)第i行
                                        x(,j)第j列
matrix1
</code></pre></div><h3 id="产生多个"><a href="#产生多个" class="header-anchor">#</a> 产生多个</h3> <div class="language- extra-class"><pre class="language-text"><code>array1 &lt;- array(1:18 , c(3,3,2))
&gt; array1
, , 1

     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9

, , 2

     [,1] [,2] [,3]
[1,]   10   13   16
[2,]   11   14   17
[3,]   12   15   18

</code></pre></div><h3 id="数据框"><a href="#数据框" class="header-anchor">#</a> 数据框</h3> <p>数据框仅次于向量的最重要的数据对象类型
数据框 VS 矩阵</p> <div class="language- extra-class"><pre class="language-text"><code>data.frame()  创建数据框

</code></pre></div><h2 id="第五节课-2020-10-07"><a href="#第五节课-2020-10-07" class="header-anchor">#</a> 第五节课  2020/10/07</h2> <h3 id="查询数据框的索引"><a href="#查询数据框的索引" class="header-anchor">#</a> 查询数据框的索引</h3> <div class="language- extra-class"><pre class="language-text"><code>&gt; name &lt;- c(&quot;xu&quot;,&quot;zhang&quot;,&quot;cui&quot;,&quot;huang&quot;)
&gt; English &lt;- c(80,90,80,60)
&gt; Math &lt;- c(80,90,80,60)
&gt; Art &lt;- c(80,90,80,60)
&gt; Score &lt;- data.frame(name,English,Math,Art)
&gt; Score
   name English Math Art
1    xu      80   80  80
2 zhang      90   90  90
3   cui      80   80  80
4 huang      60   60  60
&gt; 
&gt; Score[1:2,c(1,4)]
   name Art
1    xu  80
2 zhang  90

</code></pre></div><p>使用sqldf包中的sqldf函数利用sql语句索引</p> <div class="language- extra-class"><pre class="language-text"><code>name &lt;- c(&quot;xu&quot;,&quot;zhang&quot;,&quot;cui&quot;,&quot;huang&quot;)
English &lt;- c(80,90,80,60)
Math &lt;- c(80,90,80,60)
Art &lt;- c(80,90,80,60)
Score &lt;- data.frame(name,English,Math,Art)
Score

Score[1:2,c(1,4)]


name &lt;- sqldf(&quot;select * from Score where name == 'xu'&quot;)
name
</code></pre></div><h3 id="列表"><a href="#列表" class="header-anchor">#</a> 列表</h3> <p>可以容纳各种不用的数据类型
使用命令list()</p> <div class="language- extra-class"><pre class="language-text"><code>v1 &lt;- 2:8
v2 &lt;- c(&quot;aa&quot;,&quot;bb&quot;,&quot;cc&quot;)
m1&lt;- matrix(c(1:9),nrow=3)
list(v1,v2,m1)
</code></pre></div><h3 id="列表的索引"><a href="#列表的索引" class="header-anchor">#</a> 列表的索引</h3> <p>列表下标 [[下标]]
列表[[&quot;对象名称&quot;]]
注意列表中的数据对象命名后适用
列表$对象名称</p> <h3 id="读取文件"><a href="#读取文件" class="header-anchor">#</a> 读取文件</h3> <div class="language- extra-class"><pre class="language-text"><code>tab1 &lt;- read.table(&quot;C:/Users/29555/Desktop/wenjian/read_txt_data.txt&quot;,header=TRUE)  读取的是绝对路径
tab1
tab2 &lt;- read.table(&quot;/local/read_txt_data.txt&quot;,header = TRUE)    读取的是工作目录的文件
tab2

csv1 &lt;- read.csv(&quot;local/ADS.csv&quot;,header = TRUE)  
csv1

csv2 &lt;-read.csv(&quot;local/accepts.csv&quot;,header = TRUE)
csv2
xlsx1 &lt;- read.xlsx(&quot;local/accepts.xlsx&quot;)  使用xlsx需要加载openxlsx
xlsx1
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>&lt;p style=&quot;font-size: 30px&quot;&gt;注意&lt;/p&gt;
1.查看工作目录:getwd()
2.设置工作目录setwd(&quot;&quot;)
3.把需要读取文件放入工作目录
4.读取文件(不需要写路径,直接文件&quot;姓名&quot;)
例如:
</code></pre></div><h2 id="第六节课"><a href="#第六节课" class="header-anchor">#</a> 第六节课</h2> <h2 id="写入数据"><a href="#写入数据" class="header-anchor">#</a> 写入数据</h2> <div class="language- extra-class"><pre class="language-text"><code>write.table  write.csv

write.table(data,'test.txt',sep=',',na='缺失',quote=TRUE,row,names=TRUE,fileEncoding='UTF-8')
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>letter &lt;- letters[1:5]         r自带的向量
[1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot;
[14] &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;
</code></pre></div><h1 id="详情看下一个"><a href="#详情看下一个" class="header-anchor">#</a> 详情看下一个</h1></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/flybird/study/R/R-02.html">
        R语言
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/flybird/assets/js/app.5d93b14c.js" defer></script><script src="/flybird/assets/js/2.e60e2e84.js" defer></script><script src="/flybird/assets/js/24.7de905d7.js" defer></script>
  </body>
</html>
